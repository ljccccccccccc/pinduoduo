<app-back-button></app-back-button>
<ng-container *ngIf="variants$ | async as productVariants">
    <app-image-slider
        [sliders]="productVariants[selectedIndex].productVariantImages"
        [sliderHeight]="'22rem'"
        [intervalBySeconds]="0"
    ></app-image-slider>
    <div class="price-section">
        <div class="now-price">&yen;{{productVariants[selectedIndex].price}}</div>
        <div class="list-price">&yen;{{productVariants[selectedIndex].listPrice}}</div>
        <div class="sales-count">{{productVariants[selectedIndex].product.priceDesc}}</div>
        <div class="title">{{productVariants[selectedIndex].name}}</div>
        <div class="coupon">
            <span appTag 
            [tagBgColor]="'#e02f29'" 
            [tagColor]="'#fff'" 
            [tagSize]="'1rem'"
            [tagPadding]="'2px 10px'"
            [tagRadius]="'5px'"
            >返现</span>
            <span>店铺内消费满100元，减20元</span>
        </div>
        <div class="guarantee">
            <span>全场包邮</span>
            <span>·</span>
            <span>7天无理由退货</span>
            <span>·</span>
            <span>48小时发货</span>
            <span>·</span>
            <span>假一赔十</span>
        </div>
        
    <app-group-short-list class="group-short-list"></app-group-short-list>
    </div>
    <div class="toolbar">
        <div class="icon-button">
          <img src="/assets/icons/more.png" alt="" />
          <div>更多</div>
        </div>
        <div class="icon-button">
          <img src="/assets/icons/favorite.png" alt="" />
          <div>收藏</div>
        </div>
        <div class="icon-button">
          <img src="/assets/icons/customer-service.png" alt="" />
          <div>客服</div>
        </div>
        <div class="direct-buy" (click)="handleDirectBuy(productVariants)">
          <div>
              &yen;
            {{ productVariants[selectedIndex].listPrice}}
          </div>
          <div>直接购买</div>
        </div>
        <div class="group-buy" (click)="handleGroupBuy(productVariants)">
          <div>
                &yen;{{ productVariants[selectedIndex].price}}</div>
          <div>发起拼单</div>
        </div>
      </div>
</ng-container>
